"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[128],{3970:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var r=t(4848),s=t(8453);const i={},a="Optional: Use Data from TrackMate",o={id:"getting-started-with-loon/trackmate-data",title:"Optional: Use Data from TrackMate",description:"TrackMate is a popular FIJI (Image Analysis) plugin for:",source:"@site/docs/getting-started-with-loon/trackmate-data.md",sourceDirName:"getting-started-with-loon",slug:"/getting-started-with-loon/trackmate-data",permalink:"/loonar/docs/getting-started-with-loon/trackmate-data",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Prepare Your Microscopy Data",permalink:"/loonar/docs/getting-started-with-loon/data"},next:{title:"Deploy Loon",permalink:"/loonar/docs/getting-started-with-loon/quickstart"}},c={},l=[{value:"TrackMate is a popular FIJI (Image Analysis) plugin for:",id:"trackmate-is-a-popular-fiji-image-analysis-plugin-for",level:4},{value:"1:\xa0\xa0\xa0Export Data from TrackMate",id:"1export-data-from-trackmate",level:2},{value:"1.1:\xa0\xa0Rename tracks in Trackmate for lineage tracking",id:"11rename-tracks-in-trackmate-for-lineage-tracking",level:3},{value:"1.2:\xa0\xa0Manually correct tracks if possible",id:"12manually-correct-tracks-if-possible",level:3},{value:"1.3:\xa0\xa0Export data from TrackMate",id:"13export-data-from-trackmate",level:3},{value:"2:\xa0\xa0\xa0Convert TrackMate Data into Loon Format",id:"2convert-trackmate-data-into-loon-format",level:2},{value:"Conversion Script Info:",id:"conversion-script-info",level:3},{value:"Run the script:",id:"run-the-script",level:3},{value:"Download our <a>new conversion script \u2193</a>",id:"download-our-new-conversion-script-",level:3},{value:"Run the script:",id:"run-the-script-1",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"optional-use-data-from-trackmate",children:"Optional: Use Data from TrackMate"}),"\n",(0,r.jsxs)(n.h4,{id:"trackmate-is-a-popular-fiji-image-analysis-plugin-for",children:[(0,r.jsx)(n.a,{href:"https://imagej.net/plugins/trackmate/",children:"TrackMate"})," is a popular FIJI (Image Analysis) plugin for:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Robust tracking of cells and other objects in microscopy time-lapse images"}),"\n",(0,r.jsx)(n.li,{children:"Various detection and tracking algorithms"}),"\n",(0,r.jsx)(n.li,{children:"Visualization and analysis tools"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.cellpose.org/",children:"Cellpose"})," is a cell segmentation algorithm for TrackMate:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enables advanced object detection directly within the TrackMate workflow"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"1export-data-from-trackmate",children:["1:\xa0\xa0\xa0Export Data from ",(0,r.jsx)(n.a,{href:"https://imagej.net/plugins/trackmate/",children:"TrackMate"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.h3,{id:"11rename-tracks-in-trackmate-for-lineage-tracking",children:"1.1:\xa0\xa0Rename tracks in Trackmate for lineage tracking"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"After a cell division, identify the parent track and the two daughter tracks."}),"\n",(0,r.jsx)(n.li,{children:'Rename the daughter tracks by appending "a" or "b" to the parent track\'s name. For example, if the parent track is named "Track_0", the daughters should be named "Track_0a" and "Track_0b".'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"12manually-correct-tracks-if-possible",children:"1.2:\xa0\xa0Manually correct tracks if possible"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Visually inspect generated tracks to ensure accuracy."}),"\n",(0,r.jsx)(n.li,{children:'Correct any errors in the tracking of the small ROIs (Regions of Interest). This likely involves manually adjusting spot positions or linking/unlinking spots to fix tracking mistakes. The exact method for manual correction will depend on the TrackMate interface, but typically involves using tools to "Add Spot," "Remove Spot," "Link Spots," or "Split Track."'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"13export-data-from-trackmate",children:"1.3:\xa0\xa0Export data from TrackMate"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Once the tracks are finalized and corrected, export the data:"}),"\n",(0,r.jsx)(n.li,{children:'Export the "Spots" feature table: In the TrackMate interface, navigate to the export options and find the command to export the spot features. This will generate a CSV file containing information about each spot, such as its position, size, and other measurements.'}),"\n",(0,r.jsx)(n.li,{children:"Export ImageJ ROIs: This is an important step to get the segmented regions of cells themselves. This can be done in ImageJ after using TrackMate to generate the ROIs, and typically involves saving the ROI Manager contents as a .zip file."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"2convert-trackmate-data-into-loon-format",children:["2:\xa0\xa0\xa0Convert TrackMate Data into ",(0,r.jsx)(n.a,{href:"/loonar/docs/getting-started-with-loon/data",children:"Loon Format"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["We currently use ",(0,r.jsx)(n.a,{href:"https://github.com/visdesignlab/aardvark-util/blob/main/ingest_trackmate.py",children:"our conversion script on github"}),". Click the Download button at the top-right of the script."]}),"\n",(0,r.jsx)(n.h3,{id:"conversion-script-info",children:"Conversion Script Info:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Inputs:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.code,{children:".csv"})," file from TrackMate","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Must currently include ",(0,r.jsx)(n.code,{children:"LABEL"}),", ",(0,r.jsx)(n.code,{children:"FRAME"}),", ",(0,r.jsx)(n.code,{children:"POSITION_X"}),", ",(0,r.jsx)(n.code,{children:"POSITION_Y"})," columns"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["A folder containing ",(0,r.jsx)(n.code,{children:".roi"})," files from TrackMate"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What the script does:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Reads your ",(0,r.jsx)(n.code,{children:".csv"})," file, removes unnecessary rows / columns, sorts by frame"]}),"\n",(0,r.jsxs)(n.li,{children:["Infers / Adds a ",(0,r.jsx)(n.code,{children:"parent"})," column to the ",(0,r.jsx)(n.code,{children:".csv"})," file, which includes the parents of each track"]}),"\n",(0,r.jsxs)(n.li,{children:["Outputs that corrected ",(0,r.jsx)(n.code,{children:".csv"})]}),"\n",(0,r.jsxs)(n.li,{children:["Converts that corrected ",(0,r.jsx)(n.code,{children:".csv"})," to a ",(0,r.jsx)(n.code,{children:".parquet"})," file"]}),"\n",(0,r.jsxs)(n.li,{children:["Converts ",(0,r.jsx)(n.code,{children:".roi"})," files to ",(0,r.jsx)(n.code,{children:"GeoJSON"})," format, creating a folder structure based on frames"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Outputs:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.code,{children:"metadata.csv"})," file with metadata for Loon"]}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.code,{children:"metadata.parquet"})," file with metadata for Loon"]}),"\n",(0,r.jsxs)(n.li,{children:["A segmentations folder with ",(0,r.jsx)(n.code,{children:"GeoJSON"})," files for each frame"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"run-the-script",children:"Run the script:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your terminal:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mac:"})," Press ",(0,r.jsx)(n.code,{children:"Cmd + Space"}),", type ",(0,r.jsx)(n.code,{children:"Terminal"}),", and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows:"})," Press ",(0,r.jsx)(n.code,{children:"Win + R"}),", type ",(0,r.jsx)(n.code,{children:"cmd"}),", and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Change to the directory where you saved ",(0,r.jsx)(n.code,{children:"ingest_trackmate.py"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mac:"})," ",(0,r.jsx)(n.code,{children:"cd ~/Downloads"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows:"})," ",(0,r.jsx)(n.code,{children:"cd %USERPROFILE%\\Downloads"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Run the script:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Type ",(0,r.jsx)(n.code,{children:'ingest_trackmate.py "/path/to/your/input.csv" "/path/to/your/roi_files" "/path/to/your/output"'})," and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)(n.strong,{children:"Optional:"})," New Conversion Script with User Interface"]}),(0,r.jsxs)(n.h3,{id:"download-our-new-conversion-script-",children:["Download our ",(0,r.jsx)("a",{href:"/convert_trackmate.py",download:"convert_trackmate.py",children:"new conversion script \u2193"})]}),(0,r.jsx)(n.h3,{id:"run-the-script-1",children:"Run the script:"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your terminal:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mac:"})," Press ",(0,r.jsx)(n.code,{children:"Cmd + Space"}),", type ",(0,r.jsx)(n.code,{children:"Terminal"}),", and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows:"})," Press ",(0,r.jsx)(n.code,{children:"Win + R"}),", type ",(0,r.jsx)(n.code,{children:"cmd"}),", and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Change to the directory where you saved ",(0,r.jsx)(n.code,{children:"convert_trackmate.py"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mac:"})," ",(0,r.jsx)(n.code,{children:"cd ~/Downloads"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows:"})," ",(0,r.jsx)(n.code,{children:"cd %USERPROFILE%\\Downloads"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Run the script:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Type ",(0,r.jsx)(n.code,{children:"python convert_trackmate.py"})," and press ",(0,r.jsx)(n.code,{children:"Enter"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Follow the on-screen instructions to convert your TrackMate data to Loon format"}),"\n"]})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);