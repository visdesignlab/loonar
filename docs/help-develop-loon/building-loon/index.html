<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-help-develop-loon/building-loon" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Building and Getting Started with Loon from Source | Loon</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vdl.sci.utah.edu/loonar/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vdl.sci.utah.edu/loonar/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vdl.sci.utah.edu/loonar/docs/help-develop-loon/building-loon"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Building and Getting Started with Loon from Source | Loon"><meta data-rh="true" name="description" content="The official Github repository for Loon has everything that is required to build any of the above docker images. Instead of building a single image, however, you can also use Docker Compose to build our multi-container application. Building the multi-container application instead of the single Docker image provides more insight when attempting to debug and allows for much more configuration. This is done through a build script with an accompanying JSON file."><meta data-rh="true" property="og:description" content="The official Github repository for Loon has everything that is required to build any of the above docker images. Instead of building a single image, however, you can also use Docker Compose to build our multi-container application. Building the multi-container application instead of the single Docker image provides more insight when attempting to debug and allows for much more configuration. This is done through a build script with an accompanying JSON file."><link data-rh="true" rel="icon" href="/loonar/img/logos/favicon.svg"><link data-rh="true" rel="canonical" href="https://vdl.sci.utah.edu/loonar/docs/help-develop-loon/building-loon"><link data-rh="true" rel="alternate" href="https://vdl.sci.utah.edu/loonar/docs/help-develop-loon/building-loon" hreflang="en"><link data-rh="true" rel="alternate" href="https://vdl.sci.utah.edu/loonar/docs/help-develop-loon/building-loon" hreflang="x-default"><link rel="stylesheet" href="/loonar/assets/css/styles.8ddc86ca.css">
<script src="/loonar/assets/js/runtime~main.6df1f4f3.js" defer="defer"></script>
<script src="/loonar/assets/js/main.38e696ce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/loonar/"><div class="navbar__logo"><img src="/loonar/img/logos/loon-logo-light.svg" alt="Loon Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/loonar/img/logos/loon-logo-dark.svg" alt="Loon Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Loon</b></a><a class="navbar__item navbar__link" href="/loonar/docs/introduction">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/loonar/docs/contact-us">Contact Us</a><a href="https://github.com/visdesignlab/loonar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Building and Getting Started with Loon from Source</h1>
<p>The official Github repository for Loon has everything that is required to build any of the above docker images. Instead of building a single image, however, you can also use Docker Compose to build our multi-container application. Building the multi-container application instead of the single Docker image provides more insight when attempting to debug and allows for much more configuration. This is done through a build script with an accompanying JSON file.</p>
<p>The build script takes in the configuration file, generates an <code>.env</code> file, and then builds and runs the multi-container application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-build-script">The Build Script<a href="#the-build-script" class="hash-link" aria-label="Direct link to The Build Script" title="Direct link to The Build Script">​</a></h2>
<p>In order to simplify the process of building the application while also allowing for more custom setups, we provide a python script called <code>build.py</code> in the root of the repository. When building loon, you should <em>always</em> use this build script.</p>
<p>The simplest use case of the build script is as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Be sure to replace <code>python3</code> with <code>python</code> if that is the appropriate python executable on your local machine.</p></div></div>
<p>By default, the build script searches for a <code>config.json</code> file in the same location as where the build script is called. If none exists, an error will be thrown. You can specify the location and name of the config file with the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py --config-file path/to/other-config.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The build script will do its best to validate the config before starting the docker container. When running the build script, here are the list of other inputs that may be helpful.</p>
<table><thead><tr><th>Argument</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>-h, --help</td><td>Outputs this information to terminal without running script.</td><td>-h</td></tr><tr><td>-v, --verbose</td><td>All output response is sent to the terminal and main log file. If not present, limited information will be passed to the terminal.</td><td>-v</td></tr><tr><td>-d, --detached</td><td>Once all containers are started, program will exit and log in the background</td><td>-d</td></tr><tr><td>-e, --validate-build</td><td>When present, the script will not build or start any containers. Only the configuration file will be validated and the environment file created.</td><td>-e</td></tr><tr><td>--env-file</td><td>Name of env file to create.</td><td>.--env-file .env.production</td></tr><tr><td>--config-file</td><td>Name of config file to use as input</td><td>--config-file config-test.json</td></tr><tr><td>-D, --down</td><td>Stops all containers and removes all containers. Note that this will not build or start containers nor validate the configuration file.</td><td>-D</td></tr><tr><td>-o, --overwrite</td><td>When set, any settings in your configuration file which are present as environment variables in the current session will be overwritten.</td><td>-o</td></tr><tr><td>-s, --disable-spinner</td><td>When set, disables inline spinner</td><td>-s</td></tr><tr><td>--prepare-dev</td><td>When set, will create the <code>.env</code> file based on the current configuration that is required to run a separate client development server.</td><td>--prepare-dev</td></tr></tbody></table>
<p>In the repository, you will see two docker directories: <code>docker</code> and <code>docker-local</code>. The main deployment will use the <code>docker</code> directory. The <code>docker-local</code> directory is a separate local version of Loon which we will discuss shortly. Below are some examples.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Running Development Server</strong></p>
<p>If you&#x27;d like to have access to all the development server functionality when working with Loon, you can run a separate development server that connects to the running Docker container. We start by building and running the docker container with the additional flag <code>--prepare-dev</code>. This will generate the necessary <code>.env</code> file in the <code>apps/client</code> directory that will be used by the client.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py --prepare-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once that has started, navigate to the <code>apps/client</code> directory and run the development server.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd apps/client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn run dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will start a separate development server at <code>http://localhost:5173</code>. The standard client will still be available as well.</p>
<p><strong>Specifying the env file name and configuration file name</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py --env-file .env.production --config-file config-production.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will use the &quot;config-production.json&quot; as the input configuration file and output a &quot;.env.production&quot; environment file.</p>
<p><strong>Using Detached Mode and Verbose</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py -vd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will enable verbose mode so that we can see the build process as it runs. It will also exit once all containers have begun running.</p>
<p><strong>Overwritting configuration file with environment variables</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export LOCALDATASETTINGS_SOURCEVOLUMELOCATION=/Users/MyUser/my-loon-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 build.py -o</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will take your current config (in this case <code>config.json</code> in the root directory since no file name was specified) and overwrite the <code>localDataSettings.sourceVolumeLocation</code> value to be <code>/Users/MyUser/my-loon-data</code>. The original <code>config.json</code> will not be altered. Instead, a temporary file (in this case named <code>config.json.temp</code>) will be created and then used.</p>
<p>If you&#x27;re using the script not in detached mode, then pressing &quot;Ctrl+C&quot; in the terminal will stop and remove all docker containers. Additionally, all logs will be outputted to a &quot;logs&quot; directory. For each run of the build script, a new directory called <code>logs_%Y-%m-%d_%H-%M-%S</code> will be created with logging for each individual service separated.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-configuration-file">The Configuration File<a href="#the-configuration-file" class="hash-link" aria-label="Direct link to The Configuration File" title="Direct link to The Configuration File">​</a></h2>
<p>The configuration file is a JSON document with <code>generalSettings</code>, <code>mySqlSettings</code>, <code>localDataSettings</code>, <code>nginxSettings</code>, and <code>minioSettings</code> as top level keys.</p>
<p>Below is a simple example of using an HTTP server with a MinIO storage backend.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;generalSettings&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;useHttp&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;environment&quot;: &quot;production&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;baseUrl&quot;: &quot;localhost&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;mySqlSettings&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;databaseName&quot;: &quot;loon&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;databaseUser&quot;: &quot;user&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;databasePassword&quot;: &quot;user_pass&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;databaseRootPassword&quot;: &quot;root_pass&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;minioSettings&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;minioStorageAccessKey&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;minioStorageSecretKey&quot;: &quot;minioadmin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;sourceVolumeLocation&quot;: &quot;path/to/data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The build script will validate this configuration file before attempting to build in order to avoid any potential issues with the setup.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-settings">General Settings<a href="#general-settings" class="hash-link" aria-label="Direct link to General Settings" title="Direct link to General Settings">​</a></h3>
<table><thead><tr><th>Variable</th><th>Details</th><th>Possible Values</th></tr></thead><tbody><tr><td>&quot;useHttp&quot;</td><td>Set to true if using HTTP is desired. If set to false, NGINX settings will be required.</td><td>true/false</td></tr><tr><td>&quot;environment&quot;</td><td>If set to &#x27;production&#x27;, will use MinIO features. Setting to &#x27;local&#x27; will enable Local Loon instead.</td><td>production/local</td></tr><tr><td>&quot;baseUrl&quot;</td><td>Base URL for application. Set this to &quot;localhost&quot; when using locally.</td><td>string</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-settings">MySQL Settings<a href="#mysql-settings" class="hash-link" aria-label="Direct link to MySQL Settings" title="Direct link to MySQL Settings">​</a></h3>
<table><thead><tr><th>Variable</th><th>Details</th><th>Possible Values</th></tr></thead><tbody><tr><td>&quot;databaseName&quot;</td><td>Name of database in mysql to create</td><td>string</td></tr><tr><td>&quot;databaseUser&quot;</td><td>Name of standard user</td><td>string</td></tr><tr><td>&quot;databasePassword&quot;</td><td>Password for standard user</td><td>string</td></tr><tr><td>&quot;databaseRootPassword&quot;</td><td>Password for root user</td><td>string</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minio-settings">MinIO Settings<a href="#minio-settings" class="hash-link" aria-label="Direct link to MinIO Settings" title="Direct link to MinIO Settings">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>When <code>generalSettings.environment</code> is set to <code>local</code>, the <code>minioSettings</code> key should be removed from your configuration file.</p></div></div>
<p>The MinIO settings are used to configure your MinIO storage backend. You do <em>not</em> need to install or set-up MinIO prior to launching the container -- the docker application will handle the set up for you.</p>
<p>The basic settings are the <code>minioStorageAccessKey</code>, the <code>minioStorageSecretKey</code>, and the volume location (i.e. where the data should be located). The <code>minioStorageAccessKey</code> and <code>minioStorageSecretKey</code> serve as the username and password for your MinIO storage, respectively. See <a href="/loonar/docs/getting-started-with-loon/working-with-minio">here</a> for more information on working with MinIO as a storage engine.</p>
<p>If you&#x27;re deploying this application on a remote server where you&#x27;d like your data to be stored on an NFS volume, you must also specify that it is an NFS mount using <code>volumeType</code>, specify the nfs version using <code>nfsVersion</code>, the ip address of the volume using <code>ipAddress</code> and the user and group permissions that MinIO will need to write to this directory using <code>userGroupPermissions</code></p>
<table><thead><tr><th>Variable</th><th>Details</th><th>Possible Values</th></tr></thead><tbody><tr><td>&quot;minioStorageAccessKey&quot;</td><td>Username for MinIO administrator</td><td>string (&gt;3 characters)</td></tr><tr><td>&quot;minioStorageSecretKey&quot;</td><td>Password for MinIO administrator</td><td>string (&gt;7 characters)</td></tr><tr><td>&quot;sourceVolumeLocation&quot;</td><td>Location for the source data to be mounted to the container. This can be any directory with appropriate permissions. If <code>&quot;volumeType&quot;</code> is <code>&quot;nfs&quot;</code>, this path needs to be the <em>true</em> NFS location. You can find this by running <code>df -h</code> in the NFS directory.</td><td>string</td></tr><tr><td>&quot;volumeType&quot;</td><td>Specifies if the volume to mount is an NFS volume. If not, this key can be removed.</td><td>&quot;nfs&quot;, &quot;&quot;</td></tr><tr><td>&quot;nfsVersion&quot;</td><td>Specifies the NFS version of the mount. If <code>&quot;volumeType&quot;</code> is not <code>&quot;nfs&quot;</code>, then this can be removed.</td><td>int</td></tr><tr><td>&quot;ipAddress&quot;</td><td>Specifies the IP address of the NFS mount. You can find this in the output of <code>df -h</code> when inside your NFS directory. If <code>&quot;volumeType&quot;</code> is not <code>&quot;nfs&quot;</code>, then this can be removed.</td><td>string</td></tr><tr><td>&quot;userGroupPermissions&quot;</td><td>The user and group permissions necessary for the MinIO storage engine to have full access to the directory. The syntax must be &quot;{UID}:{GID}&quot;. If <code>&quot;volumeType&quot;</code> is not <code>&quot;nfs&quot;</code>, then this can be removed.</td><td>string</td></tr></tbody></table>
<p>Once MinIO is deployed, you will be able to log into the web console using your provided access key and secret access key as the username and password. After you have logged in, you will be able to add additional users with restricted access if necessary using the &quot;Identity&quot; &gt; &quot;Users&quot; tab. See <a href="https://min.io/docs/minio/linux/administration/console/security-and-access.html#minio-console-security-access" target="_blank" rel="noopener noreferrer">here</a> for more information on identity management.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-settings">NGINX Settings<a href="#nginx-settings" class="hash-link" aria-label="Direct link to NGINX Settings" title="Direct link to NGINX Settings">​</a></h3>
<p>NGINX settings can be added by adding <code>&quot;nginxSettings&quot;</code> as a top level key. This is only required when <code>generalSettings.useHtp</code> is set to <code>false</code>.</p>
<table><thead><tr><th>Variable</th><th>Details</th><th>Possible Values</th></tr></thead><tbody><tr><td>&quot;sourceVolumeLocation&quot;</td><td>Location for the ssl keys to be mounted to container.</td><td>string</td></tr><tr><td>&quot;targetVolumeLocation&quot;</td><td>Location inside container where to mount keys.</td><td>string</td></tr><tr><td>&quot;certFileLocation&quot;</td><td>Name of cert file relative to source volume mount.</td><td>string</td></tr><tr><td>&quot;keyFileLocation&quot;</td><td>Name of key file relative to source volume mount</td><td>string</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-data-settings">Local Data Settings<a href="#local-data-settings" class="hash-link" aria-label="Direct link to Local Data Settings" title="Direct link to Local Data Settings">​</a></h3>
<p>Local Data settings can be added by adding <code>&quot;localDataSettings&quot;</code> as a top level key. This is only required when <code>generalSettings.environment</code> is set to <code>&quot;local&quot;</code>.</p>
<table><thead><tr><th>Variable</th><th>Details</th><th>Possible Values</th></tr></thead><tbody><tr><td>&quot;sourceVolumeLocation&quot;</td><td>Location for the local data to be mounted to container.</td><td>string</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-build-script" class="table-of-contents__link toc-highlight">The Build Script</a></li><li><a href="#the-configuration-file" class="table-of-contents__link toc-highlight">The Configuration File</a><ul><li><a href="#general-settings" class="table-of-contents__link toc-highlight">General Settings</a></li><li><a href="#mysql-settings" class="table-of-contents__link toc-highlight">MySQL Settings</a></li><li><a href="#minio-settings" class="table-of-contents__link toc-highlight">MinIO Settings</a></li><li><a href="#nginx-settings" class="table-of-contents__link toc-highlight">NGINX Settings</a></li><li><a href="#local-data-settings" class="table-of-contents__link toc-highlight">Local Data Settings</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 The Visualization Design Lab. Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>